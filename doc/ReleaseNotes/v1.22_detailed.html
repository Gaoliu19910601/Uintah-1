<!--
   For more information, please see: http://software.sci.utah.edu

   The MIT License

   Copyright (c) 2004 Scientific Computing and Imaging Institute,
   University of Utah.

   License for the specific language governing rights and limitations under
   Permission is hereby granted, free of charge, to any person obtaining a
   copy of this software and associated documentation files (the "Software"),
   to deal in the Software without restriction, including without limitation
   the rights to use, copy, modify, merge, publish, distribute, sublicense,
   and/or sell copies of the Software, and to permit persons to whom the
   Software is furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
   THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
   DEALINGS IN THE SOFTWARE.
-->


<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <script type="text/javascript" src="../Utilities/HTML/tools.js"></script>
    <script type="text/javascript">var doc = new ReleaseNotesDocument();</script>
    <title>Version 1.22 Release Notes</title>
  </head>

  <body>
    <script type="text/javascript">doc.preContent();</script>

    <h1 class="page-title">
      Release Notes - SCIRun Version 1.22 - July 14, 2004
    </h1>

    <a id="begin-toc">Content:H1,H2</a>

    <h1>
      Module Enhancements
    </h1>

    <h2>
      SCIRun Modules (Category in parentheses)
    </h2>

    <ul>
      <li>ClipField saves widget positions now.</li>
      <li>Viewer lights saved properly.</li>
      <li>Fix ViewWindow inertia mode lockup on Fedora Core 2.</li>
      <li>MPEG movie recording can save to a path other than the working directory.</li>
      <li>Fix Unstructure (FieldsGeometry) to preseve node ordering in scanline orientation.</li>
      <li>Fix uninitialized sigma crash in ScalarFieldStats.</li>
      <li>Fix Isosurface-quadtypeface.net crash bug associated with ImageMesh::get_neighbors().</li>
      <li>Fix const DenseMatrix compilation error.</li>
      <li>Fix TransformData3 compilation failure if third field type was different
than others.</li>
      <li>Use safe_normalize when computing TriSurfMesh normals, fixes degenerate
triangle crash.</li>
      <li>Fix ViewWindow crash bug when autoviewing on single point.</li>
      <li>Wrap instanced dynamic compilation classes differently to fix include
crash in ClipByFunction, LinAlgUnary, LinAlgBinary.</li>

    </ul>

    <h2>BioPSE Modules</h2>
    <ul>
      <li>Fix SetupFEMatrix crashing if data not at elements, report error
instead.</li>
      <li>Added splash screen image for BioFEM.</li>
    </ul>

    <h2>Teem Modules (Category in parentheses)</h2>
    <ul>
      <li>Use GuiFilename for filenames instead of GuiString in NrrdReader and
NrrdWriter.</li>
</li>
    </ul>

    <h1>Infrastructure Enhancements</h1>
    <ul>
      <li>Change Connection Blocking to internally Delete connections while keeping GUI representation up.</li>
      <li>Add Module::presave() callback to give modules a chance to copy all state to GuiVars before their state is written to TCL script.</li>
      <li>Change Mesh::get_weights() functions to use static array for weights.</li>
      <li>Implement LatVolMesh::get_cells for nodes.</li>
      <li>Change Mesh::locate to use const references where possible.</li>
      <li>Add node_reserve and elem_reserve functions to meshes.</li>
      <li>Add debugging asserts to set_value and value calls for fields.</li>
      <li>Use unsigned int as under_type for all meshes.</li>
      <li>Add module runtimes to regression output.</li>
      <li>Use lessthan function for map<> when hash_map not defined.</li>
      <li>Use a better string hash function, use X31 hash.</li>
      <li>Lock PropertyManager more agressively, add copy_properties function.</li>
      <li>Fix typo that was causing dynamic compliation directory to always default to
~/SCIRun/on-the-fly-libs//</li>
      <li>Add MakeReal function that converts double numbers that are: +infinity to max double, -infinity to min double, and NaN to 0.  Used only for sending values to the TCL interpreter.</li>
      <li>Change widget_moved(int) method to widget_moved(int,BaseWidget*) signature to allow callback to determine which widget was moved</li>
      <li>Send return value back to TCL when calling [netedit sci_system].</li>
      <li>Removed redundant GuiContext::getSub/setSub methods.  Use subVar to create sub-contexts instead.</li>
      <li>Add 'bool GuiSingle::valid()' method to return true if variable exists in TCL scope and is of correct type.</li>
      <li>Evaluate floating point numbers using TCL's 'expr' command to pare down redundant 0's after decimal place.</li>
      <li>Added TCL function initGlobal that will assign a value to a global variable if and only if that variable does not already exist.</li>
      <li>Add TCLInterface::complete_command that returns true if str is a complete TCL script with matching braces.</li>
      <li>Added TCL proc envBool to query the boolean status of an environemnt variable.<?li>
      <li>Use Core/Util/Enviroment.h to provide universal environment that works on SGIs, Mac G5's, and Linux.</li>
      <li>In TCL, Use [netedit getenv VARNAME], and [netedit setenv VARNAME VALUE] to interface with environment variables.</li>
      <li>Move some code from SCIRun/src/Dataflow/GUI/Module.tcl out into SCIRun/src/Dataflow/GUI/Port.tcl and SCIRun/src/Dataflow/GUI/Connection.tcl.</li>
      <li>Added procedure genSubnetScript - the core of the network writing algorithm.</li>
      <li>Always send floating point numbers to TCL with a decimal in them so TCL wont cast them to an integer.</li>
      <li>Handle bad values (like inf) better when writing floating point values to networks.</li>
    </ul>

    <h1>Environment Variables</h1
    <ul>
      <li>Removed environment variables PSE_DATA and SCI_DATA.</li>
    </ul>

    <h1>Network Editor Enhancements</h1>
    <ul>
      <li>Fix deletion of dynamic ports.</li>
      <li>Show error when .net files attempt to create connections between ports of different types.</li>
      <li>Added black and white icons to SCIRun Network Editor and module GUIs.</li>
      <li>Connection tracing draws faster.</li>
      <li>Expand Network Information to store creation time and date per Sub-Network.</li>
      <li>Resize module icons when their name has changed.</li>
      <li>Move subnet editor ports right a few pixels.</li>
      <li>Fix bug writing out notes colors.</li>
      <li>Fix TCL error when choosing cancel on setting notes text color.</li>
      <li>Fix reseting notes text color.</li>
      <li>Fix crash when deleting modules with connections to themselves.</li>
      <li>Fix 'Expand Subnet' option for Sub-Network Icons.</li>
      <li>Fix error when removing ports with multiple viewers.</li>
      <li>Register all GUI variables with TCL for saving nets with TCL proc initVarStates.</li>
      <li>Mini network editor view now always displays correctly.</li>
      <li>Don't save invalid connections.</li>
      <li>Rewrite isaDefaultValue to vastly speedup writing of large network files.</li>
      <li>Arrow keys to scroll Sub-Network Editor.  Must right-click in canvas to focus first.</li>
    </ul>

    <script type="text/javascript">new Toc().build();</script>
    <script type="text/javascript">doc.postContent();</script>
  </body>

</html>
