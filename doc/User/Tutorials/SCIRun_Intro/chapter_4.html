<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
<meta name="generator" content="Adobe GoLive 4">
<title>Multiple Concurrent Visualizations</title>
</head>

<body bgcolor="#a9a9a9">

<A name="chapter-4">

<table align="center" border="0" cellpadding="0" cellspacing="0" width="306" bgcolor="#cccccc">
<tr>
<td><img height="92" width="600" src="images/sub-banner.jpg" border="0"
    usemap="#sub-banner8662a0c4"><map name="sub-banner8662a0c4"><area
    coords="581,65,598,84" shape="rect" title nohref><area
    href="chapter_7.html" coords="557,64,575,83" shape="rect"
    title="Feedback"><area href="chapter_6.html" coords="532,64,550,82"
    shape="rect" title="Putting Simulation and Visualization
    Together"><area href="chapter_5.html" coords="508,64,527,83"
    shape="rect" title="Bioelectric Field Simulation"><area
    href="chapter_4.html" coords="483,64,502,83" shape="rect"
    title="Multi-Vis"><area href="chapter_3.html" coords="460,64,478,83"
    shape="rect" title="Derived Fields"><area href="chapter_2.html"
    coords="436,64,454,83" shape="rect" title="Looking at the Data"><area
    href="chapter_1.html" coords="412,64,430,81" shape="rect"
    title="Geometry Visualization"><area href="Intro.html"
    coords="354,64,406,84" shape="rect" title="Introduction"><area
    href="../../index.html"
    coords="205,63,343,83" shape="rect" title="Documentation"><area
    href="http://software.sci.utah.edu/" coords="103,63,195,82"
    shape="rect" title="Software"><area href="index.html"
    coords="1,65,92,81" shape="rect" title="Tutorial Home"></map></td> 
</tr>

<tr>
<td>
<center>
<table border="0" cellpadding="0" cellspacing="5" width="600">
        <tr>
	<td>

<center>
<font face="Arial,Helvetica,Geneva,Swiss,SunSans-Regular" color="maroon">
<H1>Chapter 4: Multiple Concurrent Visualizations</H1></font>
</center>

<H2>Chapter Sections</H2>

<UL>
  <LI> <A href="#section-0">Chapter Overview</A>
  <LI> <A href="#section-1">Isosurfacing</A>
  <LI> <A href="#section-2">Putting Nets Together</A>
  <LI> <A href="#summary">Summary</A>
</UL>    

<H2><A name="section-0">Chapter Overview</A></H2>
<P>
Chapter three demonstrated the construction of three separate networks
that can be used to visualize the utahtorso-lowres-voltage dataset in
different ways.  This chapter discusses a fourth visualization tool
(isosurface extraction) and demonstrates how to merge all four
visualization networks into one larger network that performs all
visualizations concurrently. For details, see the <a
HREF="../../Guide/usersguide/srug4.html#sec:navnetwork">User's Guide
4.15, Navigating a Network</a>.

<H2><A name="section-1">Isosurfacing</A></H2>

To begin, we examine a fourth visualization method: isosufacing.
Isosufacing takes a volumetric field and finds areas within the field
that have the same value.  (Eg: in a voltage field, all the areas
where the voltage is 0.2 amps.)  Surfaces that represent these areas
are produced to make it easier to understand and visualize the field's
data.
<P>
To perform isosufacing in SCIRun, do the following:
<ul>
   <li> Create a FieldReader module and load the utahtorso-lowres-voltage.tvd.fld file.
   <li> Create an Isosurface module from the SCIRun/Visualization
        menu.  Connect it to the FieldReader.
   <li> Create a Viewer module and connect it to the Isosurface
        Module.  Note that you will connect these two modules
	using the purple Geometry ports.  (Remember, to determine the
	type and/or name of a port, press the middle mouse button when
	the cursor is over the port.)
</ul>
The Isosurface module takes a volume Field as input, and outputs a
surface Field (and Geometry data (Geometry data is represented by
purple pipes and consists of data that can be directly rendered by the
Viewer module.))  The isosurface can be visualized with or without a
color map.  In this demonstration we do not deal with the output
field, but instead deal only with the output Geometry data.  (Note:
Geometry data is also referred to as <I>scene graph</I> data.)
<p>
<b>Figure 4.1</b> shows the Isosurface module UI.  The Iso Value
slider widget determines which "surface" of the incoming volume Field
will be displayed. Upon releasing the slider, the module executes and
the portion of the Field corresponding to the chosen isosurface is
displayed.  (In addition to using the <I>Slider</I> to select a single
iso value, you can use the <I>Quantity</I> tab to select multiple
evenly spaced isosufaces or use the <I>List</I> tab to select a list
of specific isosufaces.

<A NAME="figure-4.1">
<center>
<img width="331" height="421" src="images/figures/4_3.gif"><br>
<b>Figure 4.1: Isosurface UI</b></p>
</center>

If a color map is not connected to the Isosurface input port, the
module uses the Default Color. By default, the module extracts a
surface using the Marching Cubes algorithm. The user can choose the
number of threads (processors) the algorithm will use, or use the
NOISE algorithm.
<P>
Because it can be more informative to see color associated with the 
data, we will now add our standard color map modules to this net.
<UL>
   <LI> Create a GenStandardColorMaps module.

   <LI> Create a RescaleColorMap module.  Connect the ColorMap output
        port from GenStandardColorMaps to the ColorMap input port on
        RescaleColorMap.  The ColorMap port is dark purple. 
   <LI> Connect the field output port from the FieldReader module to the Field
        input port on RescaleColorMap.  
   <LI> Finally, connect the output ColorMap port from RescaleColorMap
        to the Isosurface module.
   <LI> Determining the best iso values to use for isosurfacing can
        take some practice.  For this data set, bring up the UI for
        RescaleColorMap and select <I>Fixed Scale</I>.  Use a
        <I>Min</I> of -30, and a <I>Max</I> of 30.  On the Isosurface
        UI, Select <I>List</I> and use the values: -20 0 20 40.  Note,
        the more surfaces, the longer it takes to generate.  On slower
        computers, you may want to only use two iso values in your
        list: 0 20.
</UL>
<H2><A name="section-2">Putting Nets Together</A></H2>

Now we will add the visualization techniques covered in Chapter
3. This process will involve sharing the FieldReader and Viewer
modules across the 3A, 3B, and 3C networks.  Choose from the following
two options for rebuilding the nets saved in Chapter 3.  

<P>
Option one, follow the instructions from Chapter 3 taking note of the
following items:
<p>
<ul>
  <LI> To help with this, please refer to the complete, color-coded
       network in <b>Figure 4.2</b> that shows the combined net using
       the previous chapter's networks. Blue corresponds to 3A,
       orange to 3B, and yellow to 3C.
  <li> Repeat all the steps for creating <b><A href="chapter_3.html#section-1">3A</b></A> in Chapter 3.
  <li> Do the same for <b><A
       href="chapter_3.html#section-2">3B</b></A> and <b><A
       href="chapter_3.html#section-3">3C</b></A>,<B> but reuse the
       FieldReader and Viewer modules created for net 3A.</B>
  <P>
</UL>
<p>
Option two:
<P>
Use the <I>File->Insert</I> menu to insert all nets saved in Chapter 3,
along with their settings. Destroy all but one Viewer module by
right-clicking on the module and selecting the <I>Destroy</I> option.  To
destroy a connection between two modules, right-click on the pipe
connecting those modules and select <I>Delete</I>. In addition to the
Viewer, these nets share the FieldReader module (in the upper left
corner of <A HREF="#figure-4.2"><B>Figure 4.2</B></A>), which loads the
utahtorso-lowres-voltage.tvd.fld file.  You will need to
<I>Destroy</I> all but one of these as well.  (<B>Note, the
FieldReader used to read in the electrode data should not be
destroyed.  You will end up having two FieldReaders in your
network.</B>)
<P>
Note, <B>Figure 4.2</B> has been annotated to display the important
user interface settings for each module.  If your image does not look
similar to <A HREF="#figure-4.3"><B>Figure 4.3</B></A>, check your
user interface settings.
<p>
<B>Grouping Modules</B>
<P>
You can select (group) modules by drawing a rectangle around the
modules using the left mouse button. The selected modules will turn
light blue.  Left-click and drag the mouse on any of the modules to
move the entire group to a new location in the NetEdit frame.
<p>
Please save this net as it will be used in Chapter 6.
	
<center>
<p>
<A name="figure-4.2">
<img width="570" height="935" src="images/figures/4_1.gif"><br>
<b>Figure 4.2 showing merged, color-coded net</b></p>
<p>
<A name="figure-4.3">
<img width="570" height="568" src="images/figures/4_2.gif"><br>
<b>Figure 4.3  ViewWindow Displaying Combined Visualizations</b></p>
</center>
	
<H2><A name="summary">Summary</A></H2>

At this point in the tutorial, we have discussed four different
methods of visualizing data.  We have covered how to integrate
separate module groups to perform concurrent visualizations.  The
modules that we have used so far are part of the SCIRun Core modules.
Chapter 5 will discuss using modules from the bioelectric problem
solving environment (BioPSE) package.
<P>
<A HREF="#chapter-4">Return to Top</A>

</td>
</tr>
</table>
</center>
</td>
</tr>
<tr>
<td><img height="35" width="600" src="images/sub-banner-bottom.jpg"
    border="0" usemap="#sub-banner-bottom8ac548fb"><map
    name="sub-banner-bottom8ac548fb"><area href="chapter_5.html"
    coords="565,1,589,22" shape="rect"><area href="chapter_3.html"
    coords="532,2,561,22" shape="rect"><area href="http://www.sci.utah.edu"
    coords="6,7,68,31" shape="rect" title="SCI Institute"></map></td> 
</tr>
</table>
</body>
</html>



