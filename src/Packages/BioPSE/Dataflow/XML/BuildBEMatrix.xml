<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE component SYSTEM
"../../../../../doc/ReferenceGuide/component.dtd">

<component name="BuildBEMatrix" category="Forward">
  
  <overview>
    <authors>
      <author>Alexei Samsonov</author>
    </authors>

    <summary>The module takes outer and inner triangulated surfaces
    and potentials on them and outputs matrix Zbh relating potentials
    on inner surface to the potential on the outer surface as well as
    column vector of potentials on the inner surface</summary>
    
    <description>
      <p>Version Date: January 2000</p>
      <p>Version: 1.0</p>
      
      <developer>
	<p>The module implementation uses basic problem setup and
	solid angle calculation from [1]. Second integral value (dS/r)
	is calculated using subdivision of the triangle area into 64
	subtriangles [2].</p>
	<p>References:</p>
	<orderedlist>
	  <listitem>
	    <p>Barr R. C., et al, Relating Epicardial to Body Surface
	    Potential Distributions by Means of Transfer Coeeficients
	    Based on Geometry Measurements</p>
	  </listitem>
	  <listitem>
	    <p>Rob's thesis</p>
	  </listitem>
	</orderedlist>
      </developer>
      
    </description>
  </overview>
  
  <io>
    <inputs lastportdynamic="no">
      <port>
	<name>Outer Surface</name>
	<description>
	  <p>Takes hanlde to field containing closed surface geometry of outer
	  boundary in boundary value method and optionally potential values on it</p>
	</description>
	<datatype>Field</datatype>
	<componentname>ReadField</componentname>
      </port>

      <port>
	<name>Inner Surface</name>
	<description>
	  <p>Takes hanlde to field containing closed surface geometry of inner
	  boundary in boundary value method and potential values on it</p>
	</description>
	<datatype>Field</datatype>
	<componentname>ReadField</componentname>
      </port>

    </inputs>
    <outputs>
      <port>
	<name>BEMMatrix</name>
	<description>
	  <p>Sends handle to Matrix datatype object containing
	  transform matrix (Zbh for body-heart BEM problem)</p>
	</description>
	<datatype></datatype>
	<componentname>SolveMatrix</componentname>
	<componentname>WriteMatrix</componentname>
      </port>
    </outputs>    
  </io>

  <gui>
    <description>
      <p></p>
    </description>
    <parameter>
      <widget></widget>
      <label></label>
      <description>
	<p></p>
      </description>
    </parameter>
    <img></img>
  </gui>

  <testing>
    <plan>
      <description>
	<p>Testing is to be done:</p>
      </description>
      <step>
	<p>Comparing the module result with analytical solution on the
	sphere</p>
      </step>
      <step>
	<p>Comparing results on real heart data with the ones
	obtaining with Rob Macleods proven Fortran code</p>
      </step>
    </plan>
  </testing>

</component>