SRCTOP  = @top_srcdir@
SRCDIR  = @srcdir@
OBJTOP  = ..

TCL_LIB_DIR  = @TCL_LIB_DIR@
TK_LIB_DIR   = @TK_LIB_DIR@
ITCL_LIB_DIR = @ITCL_LIB_DIR@

TCL_LIB_FLAG  = @TCL_LIB_FLAG@
TK_LIB_FLAG   = @TK_LIB_FLAG@
ITCL_LIB_FLAG = @ITCL_LIB_FLAG@

LDRUN_PREFIX  = @LDRUN_PREFIX@

ifeq (@BUILD_PARALLEL@,yes)
GLOBUS_THREADS = globus_threads
GLOBUS_LIBS = $(LDRUN_PREFIX)@GLOBUS_LIB@ -L@GLOBUS_LIB@ \
	      -lglobus_common
endif

SUBDIRS = Containers Datatypes Exceptions Geom Geometry Malloc Math \
          Process TclInterface Thread TkExtensions Tester Persistent \
	  Util $(GLOBUS_THREADS) GUI
SOLIB   = libSCICore.so

SOLIBRARIES = -lGLU -lGL \
              -L$(ITCL_LIB_DIR) $(ITCL_LIB_FLAG) \
              -L$(TK_LIB_DIR) $(TK_LIB_FLAG) \
              -L$(TCL_LIB_DIR) $(TCL_LIB_FLAG) \
	      $(GLOBUS_LIBS) \
              @X_LIBS@ @X_PRE_LIBS@ -lXext -lX11 @X_EXTRA_LIBS@ \
	      -lm -lz @THREAD_LIBS@ @PLATFORM_LDFLAGS@

include $(SRCTOP)/scripts/solib.mk
