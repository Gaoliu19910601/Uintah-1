<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE component SYSTEM "../../../../Dataflow/XML/component.dtd">
<component name="HotBox" category="DataFlow">
  <overview>
    <authors>
      <author>Stewart Dickson</author>
    </authors>
    <summary>KnowledgeBase queries in a Field.</summary>
    <description>
      <p>
      This UI accepts input from a Probe widget then allows the user
      to make queries on the values in a data field by X-Y-Z location
      through a lookup table which maps voxels to the type of material
      being represented in that region of the data field.
      </p>
      <p>
      An ASCII label translation file is required to translate from
      indices in the 16-bit binary volume segmentation map to anatomical
      names.  These names are then used to make the query.  The query
      can be made through several different means.  A static adjacency map
      file can be used to obtain the names of adjacent structures to the
      currently selected structure.  The anatomical name of the currently
      selected structure can be used in a query to the Foundational Model
      of Anatomy (FMA) knowledgebase through a Web service called OQAFMA.  Also,
      the named structure may be passed to a local Web browser to direct it
      to the corresponding entity in the Foundational Model Explorer
      browser interface to the FMA.
      </p>
      <p>
      Results of the query populate the HotBox UI with the names of the
      entities adjacent to and/or otherwise related to the element being
      Probed.  Bounding box information, obtained from another file,
      corresponding to the volume segmentation, for the selected structure
      is output from the Hotbox matrix port to enable highlighted recoloring
      of the selected structure in the Viewer.
      </p>
    </description>
  </overview>
  <implementation>
  </implementation>
  <io>
    <inputs lastportdynamic="no">
      <port>
        <name>Input Field</name>
        <datatype>SCIRun::Field</datatype>
      </port>
      <port>
        <name>Input Matrix</name>
        <datatype>SCIRun::Matrix</datatype>
      </port>
    </inputs>
    <outputs>
      <port>
        <name>HotBox Widget</name>
        <datatype>SCIRun::Geometry</datatype>
      </port>
      <port>
	<name>Bounding Box</name>
        <datatype>SCIRun:::Matrix</datatype>
      </port>
    </outputs>
  </io>
  <gui>
    <parameter>
      <widget>Label</widget>
      <label>Autogenerated GUI explanation</label>
    </parameter>
  </gui>
  <testing>
  </testing>
</component>

