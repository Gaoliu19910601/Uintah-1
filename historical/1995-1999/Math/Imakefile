
#include <config/sci.cf>

OBJS = LinAlg.o  Mat.o  MusilRNG.o  TrigTable.o  CatmullRomSpline.o  \
	ssmult.o fft.o hf.o Complex.o
SRCS = LinAlg.c  Mat.c MusilRNG.cc TrigTable.cc CatmullRomSpline.cc \
	ssmult.c fft.c hf.c Complex.cc

LIBNAME = Math

SCI_CLIBS = SCI_CCLibs
SO_LIBS =
SO_LDFLAGS = -L$(TOP)/lib -lMalloc -lm

SCIDependTarget($(SRCS))
SCIObjLibraryTarget($(LIBNAME),$(OBJS),$(SO_LIBS), $(SO_LDFLAGS))

#ifdef SCI_MACHINE_SGI
#ifdef SCI_IRIX_BIN_o32
OPTLEVEL = -O2 -sopt,-r=3
#else
OPTLEVEL = -O3 -OPT:alias=restrict -woff 1174
#endif
OPTFLAGS = SCI_BinFlags -I$(TOP) $(OPTLEVEL)  -fullwarn
OPTFLAGS2 = SCI_BinFlags -I$(TOP) $(OPTLEVEL)  -fullwarn
#else
OPTFLAGS = $(CFLAGS)
OPTFLAGS2 = $(CFLAGS)
#endif


LinAlg.o: LinAlg.c LinAlg.h
	$(CC) $(OPTFLAGS) -c LinAlg.c

Mat.o: Mat.c LinAlg.h
	$(CC) $(OPTFLAGS) -c Mat.c

ssmult.o: ssmult.c
	$(CC) $(OPTFLAGS2) -c ssmult.c

fft.o: fft.c
	$(CC) $(OPTFLAGS2) -c fft.c

hf.o: hf.c
	$(CC) $(OPTFLAGS2) -c hf.c
